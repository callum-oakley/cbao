;; This or is eager in both of its arguments. It should short curcuit (but we
;; need macros for that).
(def or
  (fn [a b]
    (if a a b)))

(def fib-rec
  (fn [n]
    (if (or (= 0 n) (= 1 n))
      n
      (+ (fib-rec (- n 1)) (fib-rec (- n 2))))))

(def fib-iter
  (fn [n]
    (def loop
      (fn [a b n]
        ;; no case yet...
        (if (= 0 n)
          a
          (if (= 1 n)
            b
            (loop b (+ a b) (- n 1))))))
    (loop 0 1 n)))

(fib-iter 25)
